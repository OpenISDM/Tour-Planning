SET
I  first /1*36/
K(I)  depot1 /1*6/
O(I)  node1 /7*36/
alias(I,J);
alias(K,L);
alias(O,P);
TABLE C(I,J)  node to node
                          1                         2                         3                         4                         5                         6                         7                         8                         9                         10                        11                        12                        13                        14                        15                        16                        17                        18                        19                        20                        21                        22                        23                        24                        25                        26                        27                        28                        29                        30                        31                        32                        33                        34                        35                        36                        
1                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   57.4891                   140.3567                  98.2497                   119.0042                  57.0789                   71.3092                   118.1524                  88.6397                   79.7621                   53.0754                   107.6894                  102.4744                  102.0441                  93.3381                   136.565                   74.5185                   119.9542                  142.0035                  71.8401                   113.2519                  117.7115                  110.5486                  93.2148                   82.2253                   82.2253                   105.6835                  69.2315                   8.2462                    113.7453                  120.4201                  
2                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   65.437                    81.4678                   109.2245                  68.7095                   74.0608                   5.831                     61.2944                   71.6938                   30.0167                   36.8782                   42.19                     76.4853                   106.2544                  51.0392                   75.6902                   33.7343                   59.4138                   100.439                   45.1885                   84.4808                   131.3659                  46.1736                   28.0                      79.0569                   79.0569                   50.5371                   4.4721                    62.3939                   56.4358                   66.6483                   
3                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   88.6397                   60.9262                   127.6127                  59.2115                   98.2344                   25.0799                   46.1736                   84.1724                   34.4384                   61.0328                   12.0416                   83.2166                   122.4949                  53.8516                   53.2353                   46.4004                   39.5601                   93.3435                   60.803                    88.1022                   149.0369                  18.3576                   5.3852                    96.0469                   96.0469                   40.6079                   26.9258                   92.7793                   38.0789                   54.0093                   
4                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   44.911                    116.4989                  11.1803                   87.5557                   43.0116                   104.6375                  99.96                     37.2156                   133.9627                  68.884                    130.2498                  46.0977                   2.2361                    70.7107                   119.6411                  74.2496                   109.3846                  83.0241                   60.1415                   51.0098                   28.8444                   138.4088                  122.3479                  25.0                      25.0                      92.1358                   108.0046                  92.0217                   157.0032                  94.6414                   
5                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   31.8904                   84.0952                   44.7772                   55.0091                   38.6005                   71.1969                   65.5134                   2.2361                    101.5185                  41.0488                   94.3663                   18.0278                   38.0132                   34.9285                   85.9884                   39.4081                   74.3303                   61.5873                   26.4008                   28.3196                   64.8999                   102.6499                  87.1149                   15.0                      15.0                      56.648                    75.1332                   78.7909                   122.0246                  61.2944                   
6                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   87.1321                   19.9249                   109.6358                  13.4536                   96.8762                   60.0333                   4.1231                    63.9531                   83.4326                   70.214                    51.4782                   53.8516                   101.1929                  33.2415                   20.2237                   47.4131                   13.4164                   44.9222                   55.7853                   52.6972                   127.5813                  60.0167                   55.4437                   80.6226                   80.6226                   15.6205                   64.8845                   115.1217                  84.1724                   5.6569                    
7                         57.4891                   65.437                    88.6397                   44.911                    31.8904                   87.1321                   99999.0                   106.8878                  46.5188                   79.404                    10.0499                   67.6757                   85.5862                   33.9706                   94.0479                   28.6007                   100.09                    49.5177                   47.0744                   53.9351                   106.5692                  44.7214                   92.0217                   92.6175                   32.0                      60.1082                   68.4763                   106.9299                  89.0056                   24.7386                   24.7386                   74.108                    69.814                    49.2443                   121.4949                  83.9524                   
8                         140.3567                  81.4678                   60.9262                   116.4989                  84.0952                   19.9249                   106.8878                  99999.0                   126.9212                  29.1548                   116.559                   75.9276                   22.3607                   82.1523                   95.3415                   89.9611                   58.2495                   70.406                    117.9025                  52.9528                   9.0554                    67.1193                   22.2036                   48.9183                   75.6902                   67.0671                   143.6802                  65.4905                   66.3099                   99.0808                   99.0808                   34.8855                   80.4301                   134.4619                  89.1403                   23.0868                   
9                         98.2497                   109.2245                  127.6127                  11.1803                   44.7772                   109.6358                  46.5188                   126.9212                  99999.0                   97.8621                   42.2019                   110.3449                  109.7679                  46.2385                   138.8416                  73.0068                   137.8768                  56.5685                   10.7703                   79.7057                   129.7575                  81.2158                   118.9285                  94.2019                   66.8431                   62.0081                   22.2036                   145.8012                  129.1898                  31.6228                   31.6228                   101.3903                  113.3578                  90.4489                   163.4656                  104.7855                  
10                        119.0042                  68.7095                   59.2115                   87.5557                   55.0091                   13.4536                   79.404                    29.1548                   97.8621                   99999.0                   88.7694                   64.195                    15.8114                   53.0377                   90.5539                   66.4003                   62.3618                   41.4849                   89.0225                   26.4197                   32.311                    44.5533                   26.4008                   34.1321                   49.6488                   39.4462                   115.1086                  71.1688                   64.0703                   70.0071                   70.0071                   19.105                    69.2604                   112.2943                  95.0789                   7.8102                    
11                        57.0789                   74.0608                   98.2344                   43.0116                   38.6005                   96.8762                   10.0499                   116.559                   42.2019                   88.7694                   99999.0                   76.6616                   95.4254                   40.8044                   101.9804                  37.5899                   109.7862                  56.6127                   45.0                      63.6396                   116.4302                  54.7449                   102.0049                  100.1249                  42.0119                   66.8431                   63.3246                   116.4689                  98.4124                   28.0179                   28.0179                   84.0536                   78.492                    49.0102                   130.384                   93.5575                   
12                        71.3092                   5.831                     25.0799                   104.6375                  71.1969                   60.0333                   67.6757                   75.9276                   110.3449                  64.195                    76.6616                   99999.0                   56.0803                   71.1196                   30.6757                   39.1152                   37.0135                   74.7262                   106.827                   48.0937                   70.0071                   32.311                    53.8145                   96.5091                   44.9444                   82.201                    132.382                   41.5933                   23.1948                   79.6492                   79.6492                   45.6946                   5.099                     67.7422                   53.8238                   61.7414                   
13                        118.1524                  61.2944                   46.1736                   99.96                     65.5134                   4.1231                    85.5862                   22.3607                   109.7679                  15.8114                   95.4254                   56.0803                   99999.0                   63.7887                   79.3095                   67.624                    47.676                    54.5619                   101.5923                  32.0                      21.0238                   44.7772                   10.6301                   48.5077                   53.9351                   54.2033                   128.1562                  56.2939                   51.3517                   80.2309                   80.2309                   12.53                     60.9016                   112.1606                  80.4114                   8.544                     
14                        88.6397                   71.6938                   84.1724                   37.2156                   2.2361                    63.9531                   33.9706                   82.1523                   46.2385                   53.0377                   40.8044                   71.1196                   63.7887                   99999.0                   101.5529                  42.0                      93.5094                   15.8114                   39.1152                   33.541                    84.1724                   39.1152                   72.7324                   59.3633                   26.5707                   26.1725                   66.0379                   101.8627                  86.5563                   17.0294                   17.0294                   55.1543                   75.1532                   80.5295                   121.5113                  59.4138                   
15                        79.7621                   30.0167                   34.4384                   133.9627                  101.5185                  83.4326                   94.0479                   95.3415                   138.8416                  90.5539                   101.9804                  30.6757                   79.3095                   101.5529                  99999.0                   65.9469                   40.3609                   105.3613                  136.18                    78.0897                   87.6584                   62.9682                   73.736                    124.1974                  75.1332                   112.5877                  161.0279                  38.0132                   29.0689                   109.0                     109.0                     71.4493                   26.4008                   79.3095                   34.0588                   86.4928                   
16                        53.0754                   36.8782                   61.0328                   68.884                    41.0488                   70.214                    28.6007                   89.9611                   73.0068                   66.4003                   37.5899                   39.1152                   67.624                    42.0                      65.9469                   99999.0                   72.8011                   52.6308                   71.1196                   40.3609                   87.5957                   22.8473                   71.5681                   89.3085                   19.2354                   62.9365                   95.2103                   79.1202                   60.9262                   44.3847                   44.3847                   55.1543                   41.2311                   46.0109                   92.9139                   68.6003                   
17                        107.6894                  42.19                     12.0416                   130.2498                  94.3663                   51.4782                   100.09                    58.2495                   137.8768                  62.3618                   109.7862                  37.0135                   47.676                    93.5094                   40.3609                   72.8011                   99999.0                   91.0494                   132.28                    61.7171                   49.7293                   56.9386                   39.0128                   96.1041                   71.3442                   94.8736                   159.0126                  8.9443                    14.5602                   106.2544                  106.2544                  45.1885                   38.4708                   104.5801                  32.7567                   56.0892                   
18                        102.4744                  76.4853                   83.2166                   46.0977                   18.0278                   53.8516                   49.5177                   70.406                    56.5685                   41.4849                   56.6127                   74.7262                   54.5619                   15.8114                   105.3613                  52.6308                   91.0494                   99999.0                   47.5395                   29.4109                   73.6817                   42.7551                   64.4981                   43.566                    34.2345                   10.8167                   73.736                    99.8098                   86.4523                   31.6228                   31.6228                   48.4149                   79.3095                   94.5145                   121.2642                  48.7032                   
19                        102.0441                  106.2544                  122.4949                  2.2361                    38.0132                   101.1929                  47.0744                   117.9025                  10.7703                   89.0225                   45.0                      106.827                   101.5923                  39.1152                   136.18                    71.1196                   132.28                    47.5395                   99999.0                   72.5603                   121.1652                  76.3675                   111.0856                  83.7257                   62.2896                   52.0865                   26.9258                   140.4635                  124.4588                  27.2029                   27.2029                   93.9149                   110.2089                  94.0053                   159.1383                  96.1665                   
20                        93.3381                   51.0392                   53.8516                   70.7107                   34.9285                   33.2415                   53.9351                   52.9528                   79.7057                   26.4197                   63.6396                   48.0937                   32.0                      33.541                    78.0897                   40.3609                   61.7171                   29.4109                   72.5603                   99999.0                   53.0094                   20.1246                   39.8121                   51.0784                   23.2594                   34.7851                   99.4786                   70.4344                   57.2451                   49.0408                   49.0408                   21.8403                   53.0377                   86.3713                   91.9239                   30.0832                   
21                        136.565                   75.6902                   53.2353                   119.6411                  85.9884                   20.2237                   106.5692                  9.0554                    129.7575                  32.311                    116.4302                  70.0071                   21.0238                   84.1724                   87.6584                   87.5957                   49.7293                   73.6817                   121.1652                  53.0094                   99999.0                   64.846                    16.6433                   56.6127                   74.8131                   71.5542                   147.3839                  56.7186                   58.5918                   100.8415                  100.8415                  32.7567                   74.2765                   131.0343                  80.2247                   25.0                      
22                        74.5185                   33.7343                   46.4004                   74.2496                   39.4081                   47.4131                   44.7214                   67.1193                   81.2158                   44.5533                   54.7449                   32.311                    44.7772                   39.1152                   62.9682                   22.8473                   56.9386                   42.7551                   76.3675                   20.1246                   64.846                    99999.0                   49.0306                   71.1758                   14.4222                   51.0392                   102.7278                  64.6375                   48.1041                   49.679                    49.679                    32.311                    36.6879                   68.0074                   82.807                    46.0435                   
23                        119.9542                  59.4138                   39.5601                   109.3846                  74.3303                   13.4164                   92.0217                   22.2036                   118.9285                  26.4008                   102.0049                  53.8145                   10.6301                   72.7324                   73.736                    71.5681                   39.0128                   64.4981                   111.0856                  39.8121                   16.6433                   49.0306                   99999.0                   58.1893                   60.0333                   64.6607                   137.8006                  47.2652                   44.9222                   88.7694                   88.7694                   18.1108                   58.258                    114.4945                  71.4493                   18.868                    
24                        142.0035                  100.439                   93.3435                   83.0241                   61.5873                   44.9222                   92.6175                   48.9183                   94.2019                   34.1321                   100.1249                  96.5091                   48.5077                   59.3633                   124.1974                  89.3085                   96.1041                   43.566                    83.7257                   51.0784                   56.6127                   71.1758                   58.1893                   99999.0                   70.214                    34.0147                   106.0424                  104.7855                  98.1835                   74.686                    74.686                    53.0094                   101.6071                  134.4656                  128.8604                  40.025                    
25                        71.8401                   45.1885                   60.803                    60.1415                   26.4008                   55.7853                   32.0                      75.6902                   66.8431                   49.6488                   42.0119                   44.9444                   53.9351                   26.5707                   75.1332                   19.2354                   71.3442                   34.2345                   62.2896                   23.2594                   74.8131                   14.4222                   60.0333                   70.214                    99999.0                   44.1475                   88.459                    79.0569                   62.3699                   35.3836                   35.3836                   42.19                     48.7647                   64.4438                   96.8762                   53.1413                   
26                        113.2519                  84.4808                   88.1022                   51.0098                   28.3196                   52.6972                   60.1082                   67.0671                   62.0081                   39.4462                   66.8431                   82.201                    54.2033                   26.1725                   112.5877                  62.9365                   94.8736                   10.8167                   52.0865                   34.7851                   71.5542                   51.0392                   64.6607                   34.0147                   44.1475                   99999.0                   76.9025                   103.7738                  91.7878                   40.7063                   40.7063                   50.448                    86.977                    105.3091                  126.1269                  47.1699                   
27                        117.7115                  131.3659                  149.0369                  28.8444                   64.8999                   127.5813                  68.4763                   143.6802                  22.2036                   115.1086                  63.3246                   132.382                   128.1562                  66.0379                   161.0279                  95.2103                   159.0126                  73.736                    26.9258                   99.4786                   147.3839                  102.7278                  137.8006                  106.0424                  88.459                    76.9025                   99999.0                   167.1077                  150.8145                  53.0754                   53.0754                   120.7684                  135.4732                  110.218                   185.2836                  122.4296                  
28                        110.5486                  46.1736                   18.3576                   138.4088                  102.6499                  60.0167                   106.9299                  65.4905                   145.8012                  71.1688                   116.4689                  41.5933                   56.2939                   101.8627                  38.0132                   79.1202                   8.9443                    99.8098                   140.4635                  70.4344                   56.7186                   64.6375                   47.2652                   104.7855                  79.0569                   103.7738                  167.1077                  99999.0                   18.4391                   114.2016                  114.2016                  54.1295                   42.0476                   108.0417                  24.1868                   64.7611                   
29                        93.2148                   28.0                      5.3852                    122.3479                  87.1149                   55.4437                   89.0056                   66.3099                   129.1898                  64.0703                   98.4124                   23.1948                   51.3517                   86.5563                   29.0689                   60.9262                   14.5602                   86.4523                   124.4588                  57.2451                   58.5918                   48.1041                   44.9222                   98.1835                   62.3699                   91.7878                   150.8145                  18.4391                   99999.0                   97.7446                   97.7446                   45.2769                   24.0832                   90.2718                   35.0                      59.0762                   
30                        82.2253                   79.0569                   96.0469                   25.0                      15.0                      80.6226                   24.7386                   99.0808                   31.6228                   70.0071                   28.0179                   79.6492                   80.2309                   17.0294                   109.0                     44.3847                   106.2544                  31.6228                   27.2029                   49.0408                   100.8415                  49.679                    88.7694                   74.686                    35.3836                   40.7063                   53.0754                   114.2016                  97.7446                   99999.0                   0.0                       70.8802                   83.006                    73.9797                   132.2309                  76.2365                   
31                        82.2253                   79.0569                   96.0469                   25.0                      15.0                      80.6226                   24.7386                   99.0808                   31.6228                   70.0071                   28.0179                   79.6492                   80.2309                   17.0294                   109.0                     44.3847                   106.2544                  31.6228                   27.2029                   49.0408                   100.8415                  49.679                    88.7694                   74.686                    35.3836                   40.7063                   53.0754                   114.2016                  97.7446                   0.0                       99999.0                   70.8802                   83.006                    73.9797                   132.2309                  76.2365                   
32                        105.6835                  50.5371                   40.6079                   92.1358                   56.648                    15.6205                   74.108                    34.8855                   101.3903                  19.105                    84.0536                   45.6946                   12.53                     55.1543                   71.4493                   55.1543                   45.1885                   48.4149                   93.9149                   21.8403                   32.7567                   32.311                    18.1108                   53.0094                   42.19                     50.448                    120.7684                  54.1295                   45.2769                   70.8802                   70.8802                   99999.0                   50.6952                   99.6444                   77.4919                   16.1245                   
33                        69.2315                   4.4721                    26.9258                   108.0046                  75.1332                   64.8845                   69.814                    80.4301                   113.3578                  69.2604                   78.492                    5.099                     60.9016                   75.1532                   26.4008                   41.2311                   38.4708                   79.3095                   110.2089                  53.0377                   74.2765                   36.6879                   58.258                    101.6071                  48.7647                   86.977                    135.4732                  42.0476                   24.0832                   83.006                    83.006                    50.6952                   99999.0                   66.1891                   51.9711                   66.7083                   
34                        8.2462                    62.3939                   92.7793                   92.0217                   78.7909                   115.1217                  49.2443                   134.4619                  90.4489                   112.2943                  49.0102                   67.7422                   112.1606                  80.5295                   79.3095                   46.0109                   104.5801                  94.5145                   94.0053                   86.3713                   131.0343                  68.0074                   114.4945                  134.4656                  64.4438                   105.3091                  110.218                   108.0417                  90.2718                   73.9797                   73.9797                   99.6444                   66.1891                   99999.0                   112.969                   114.0395                  
35                        113.7453                  56.4358                   38.0789                   157.0032                  122.0246                  84.1724                   121.4949                  89.1403                   163.4656                  95.0789                   130.384                   53.8238                   80.4114                   121.5113                  34.0588                   92.9139                   32.7567                   121.2642                  159.1383                  91.9239                   80.2247                   82.807                    71.4493                   128.8604                  96.8762                   126.1269                  185.2836                  24.1868                   35.0                      132.2309                  132.2309                  77.4919                   51.9711                   112.969                   99999.0                   88.8426                   
36                        120.4201                  66.6483                   54.0093                   94.6414                   61.2944                   5.6569                    83.9524                   23.0868                   104.7855                  7.8102                    93.5575                   61.7414                   8.544                     59.4138                   86.4928                   68.6003                   56.0892                   48.7032                   96.1665                   30.0832                   25.0                      46.0435                   18.868                    40.025                    53.1413                   47.1699                   122.4296                  64.7611                   59.0762                   76.2365                   76.2365                   16.1245                   66.7083                   114.0395                  88.8426                   99999.0                   
;
SCALAR TOTAL  /36/;
SCALAR NODES  /30/;
SCALAR W  /2/;
SCALAR Y  /72/;
SCALAR M  /1/;
BINARY VARIABLE X(I,J,K)  x variable ;
INTEGER VARIABLE U(K,O)    u variable ;
VARIABLE   Z         objective ;
EQUATIONS
CON1(K)   constraint 1
CON2(K)   constraint 2
CON3   constraint 3
CON4(O)   constraint 4
CON5(O,K)   constraint 5
CON6(O,K)   constraint 6
CON7(K)   constraint 7
CON10(O,P,K)   constraint 10
CON11(O,K)   constraint 11;
CON1(K).. SUM(O,X(K,O,K)) =E= 1;
CON2(K).. SUM(O,X(O,K,K)) =E= 1;
CON3..  SUM((K,L),X(K,L,K)) =E= 0;
CON4(O) .. SUM(K,X(K,O,K)) + SUM((P,K),X(P,O,K)) =e= W;
CON5(O,K) .. X(K,O,K) + SUM(P,X(P,O,K)) =L= 1;
CON6(O,K) .. X(K,O,K) + SUM(P,X(P,O,K)) - X(O,K,K) - SUM(P,X(O,P,K)) =e= 0;
CON7(K) .. Z =G= SUM(O,C(K,O)*X(K,O,K) + C(O,K)*X(O,K,K)) + SUM((P,O),C(P,O)*X(P,O,K));
CON10(O,P,K) .. U(K,O) - U(K,P) + (TOTAL-1)*X(O,P,K) + (TOTAL-3)*X(P,O,K) =L= (TOTAL-2);
CON11(O,K) .. X(O,O,K) =e= 0;
MODEL TRANSPORT /ALL/;
Option Reslim = 10000;
SOLVE TRANSPORT USING MINLP MINIMIZING Z ;
