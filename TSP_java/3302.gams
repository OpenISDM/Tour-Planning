SET
I  first /1*36/
K(I)  depot1 /1*6/
O(I)  node1 /7*36/
alias(I,J);
alias(K,L);
alias(O,P);
TABLE C(I,J)  node to node
                          1                         2                         3                         4                         5                         6                         7                         8                         9                         10                        11                        12                        13                        14                        15                        16                        17                        18                        19                        20                        21                        22                        23                        24                        25                        26                        27                        28                        29                        30                        31                        32                        33                        34                        35                        36                        
1                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   44.9444                   119.6328                  146.6492                  81.3204                   41.7852                   104.561                   104.2353                  144.0035                  110.4219                  72.6223                   59.1354                   20.0                      91.4112                   79.0569                   42.19                     125.2557                  77.8781                   88.3912                   112.5389                  73.0616                   93.5575                   81.0247                   105.1713                  105.7592                  39.8246                   53.3104                   110.4762                  107.0561                  13.6015                   40.8044                   
2                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   27.5136                   79.6304                   91.526                    40.4969                   25.0                      123.0366                  49.8197                   114.0                     72.111                    30.8058                   60.8769                   48.0937                   40.4599                   107.3359                  65.7951                   79.8123                   12.1655                   47.0106                   46.8402                   88.6172                   111.7587                  53.7587                   46.0652                   40.025                    103.0776                  16.1555                   55.8032                   66.2722                   72.111                    32.28                     
3                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   56.1427                   76.6551                   74.0405                   45.8803                   55.2268                   142.8741                  37.108                    113.0531                  71.8679                   44.6542                   83.1925                   78.4092                   36.2215                   131.0954                  92.6499                   72.5603                   18.2483                   52.2015                   17.0                      110.5351                  132.3065                  65.7647                   28.2312                   9.8489                    132.8533                  45.0111                   40.8534                   65.5515                   102.3963                  61.131                    
4                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   83.2586                   70.2567                   111.3643                  143.5444                  91.9239                   27.074                    152.5025                  66.6408                   65.307                    76.3806                   46.4866                   88.8144                   144.4022                  38.2884                   58.0                      81.3941                   109.8772                  70.1783                   127.3146                  27.8927                   22.4722                   54.8179                   146.4138                  124.8079                  129.8075                  90.9175                   157.9525                  68.6804                   89.8053                   81.3449                   
5                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   56.1427                   42.3792                   81.7435                   112.0045                  65.192                    61.0983                   118.2244                  57.4543                   34.7131                   41.8808                   28.3019                   70.342                    111.1396                  59.2115                   48.4149                   52.3927                   75.7166                   34.1321                   91.2634                   37.6563                   52.3927                   19.105                    111.5213                  88.8651                   123.4909                  60.8769                   123.4058                  36.0139                   80.7775                   56.0089                   
6                         99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   99999.0                   76.4003                   34.6554                   26.4008                   95.3415                   81.3941                   126.1269                  86.093                    68.6003                   35.3553                   48.8774                   81.2158                   101.2571                  86.4696                   124.1008                  99.0404                   26.0768                   57.7754                   36.8782                   43.1741                   102.0441                  118.0678                  52.1536                   76.2365                   46.1736                   161.0124                  70.0071                   88.5664                   31.0161                   122.1884                  80.4487                   
7                         44.9444                   27.5136                   56.1427                   83.2586                   56.1427                   76.4003                   99999.0                   78.7147                   102.0686                  61.7171                   9.0554                    99.0202                   76.3217                   108.1712                  69.7782                   28.3196                   37.2156                   25.0599                   65.6049                   81.0555                   38.4708                   82.662                    38.6394                   45.4863                   71.1126                   63.8905                   87.4586                   42.9535                   73.4098                   65.0                      84.6286                   11.4018                   82.4924                   65.3682                   47.8017                   5.0                       
8                         119.6328                  79.6304                   76.6551                   70.2567                   42.3792                   34.6554                   78.7147                   99999.0                   41.1096                   117.0684                  86.406                    97.3293                   113.7585                  36.4005                   9.2195                    51.8652                   66.8506                   100.439                   111.1575                  100.8067                  87.2009                   11.1803                   77.026                    33.8378                   74.7061                   79.8123                   91.022                    38.8973                   104.6948                  75.7694                   158.701                   77.1622                   117.3414                  13.6015                   116.6748                  81.1234                   
9                         146.6492                  91.526                    74.0405                   111.3643                  81.7435                   26.4008                   102.0686                  41.1096                   99999.0                   119.8541                  107.4802                  138.4377                  107.6708                  63.6003                   47.1699                   74.027                    102.1812                  126.657                   109.8818                  140.9113                  121.3342                  30.0167                   83.6481                   59.5399                   63.2851                   119.365                   132.0038                  72.45                     97.5141                   68.0661                   186.4725                  96.2081                   109.165                   46.0977                   146.7276                  105.8915                  
10                        81.3204                   40.4969                   45.8803                   143.5444                  112.0045                  95.3415                   61.7171                   117.0684                  119.8541                  99999.0                   54.4518                   160.7047                  25.9615                   152.6434                  110.4536                  71.1688                   98.6002                   71.1969                   13.8924                   142.1724                  98.4937                   115.2128                  40.05                     86.3134                   59.6825                   125.6065                  149.1643                  94.2444                   31.9061                   53.2353                   109.0183                  52.6972                   31.4006                   104.3072                  92.477                    65.0692                   
11                        41.7852                   25.0                      55.2268                   91.9239                   65.192                    81.3941                   9.0554                    86.406                    107.4802                  54.4518                   99999.0                   106.8316                  71.1126                   116.709                   77.6209                   34.9857                   45.618                    23.1948                   59.6825                   87.7268                   44.2041                   89.6939                   37.054                    52.7731                   71.1969                   71.6101                   95.2103                   51.6236                   69.2604                   64.6297                   80.6226                   11.6619                   77.3886                   72.9178                   47.1699                   10.8167                   
12                        104.561                   123.0366                  142.8741                  27.074                    61.0983                   126.1269                  99.0202                   97.3293                   138.4377                  160.7047                  106.8316                  99999.0                   172.6268                  91.0934                   92.228                    98.2293                   62.2896                   98.0867                   163.3799                  27.074                    65.7951                   108.462                   130.4837                  94.8472                   151.3275                  35.2278                   11.6619                   78.7147                   167.4754                  148.1891                  127.2517                  108.3744                  178.3928                  95.3415                   92.228                    96.0208                   
13                        104.2353                  49.8197                   37.108                    152.5025                  118.2244                  86.093                    76.3217                   113.7585                  107.6708                  25.9615                   71.1126                   172.6268                  99999.0                   150.1533                  108.7842                  76.4003                   110.6345                  91.3947                   13.0                      157.0509                  114.7388                  109.4897                  42.638                    87.6584                   44.4072                   138.4088                  161.4435                  99.2975                   10.198                    40.0                      134.3019                  65.4599                   6.3246                    102.4597                  114.2366                  80.6226                   
14                        144.0035                  114.0                     113.0531                  66.6408                   57.4543                   68.6003                   108.1712                  36.4005                   63.6003                   152.6434                  116.709                   91.0934                   150.1533                  99999.0                   42.19                     84.2912                   85.7555                   126.4634                  147.3126                  104.1009                  105.6835                  42.5441                   112.641                   67.0075                   110.5712                  87.3212                   89.0505                   65.2534                   141.0886                  112.0089                  180.9447                  109.0367                  153.7335                  48.3735                   138.2317                  109.4806                  
15                        110.4219                  72.111                    71.8679                   65.307                    34.7131                   35.3553                   69.7782                   9.2195                    47.1699                   110.4536                  77.6209                   92.228                    108.7842                  42.19                     99999.0                   43.4166                   57.9828                   91.2634                   105.3233                  93.771                    78.2368                   17.72                     70.4557                   25.4951                   71.8471                   72.3671                   85.1469                   29.6985                   100.09                    72.0694                   149.4824                  68.6804                   112.7209                  6.3246                    107.4802                  72.0694                   
16                        72.6223                   30.8058                   44.6542                   76.3806                   41.8808                   48.8774                   28.3196                   51.8652                   74.027                    71.1688                   34.9857                   98.2293                   76.4003                   84.2912                   43.4166                   99999.0                   39.5601                   52.6308                   69.3542                   87.3155                   53.0848                   54.7083                   33.8378                   18.0278                   54.7083                   66.2118                   87.6641                   23.2594                   70.0357                   50.5668                   112.4455                  25.2982                   81.6884                   38.2753                   73.3553                   31.8904                   
17                        59.1354                   60.8769                   83.1925                   46.4866                   28.3019                   81.2158                   37.2156                   66.8506                   102.1812                  98.6002                   45.618                    62.2896                   110.6345                  85.7555                   57.9828                   39.5601                   99999.0                   44.1022                   101.1187                  47.927                    20.5183                   75.1798                   69.0652                   44.4072                   94.255                    27.8029                   50.9117                   29.7321                   106.0189                  89.8888                   95.1893                   46.0977                   116.5161                  56.7979                   52.4786                   34.9285                   
18                        20.0                      48.0937                   78.4092                   88.8144                   70.342                    101.2571                  25.0599                   100.439                   126.657                   71.1969                   23.1948                   98.0867                   91.3947                   126.4634                  91.2634                   52.6308                   44.1022                   99999.0                   79.1202                   75.1665                   32.311                    105.6456                  60.208                    68.6222                   94.3663                   63.8905                   86.539                    62.2656                   90.802                    87.8237                   59.8164                   34.2053                   97.719                    87.6185                   24.0208                   20.8087                   
19                        91.4112                   40.4599                   36.2215                   144.4022                  111.1396                  86.4696                   65.6049                   111.1575                  109.8818                  13.8924                   59.6825                   163.3799                  13.0                      147.3126                  105.3233                  69.3542                   101.1187                  79.1202                   99999.0                   146.6492                  103.7304                  108.1157                  35.8469                   82.5409                   47.927                    128.7245                  152.0296                  92.5905                   18.0278                   42.0595                   121.3342                  55.2268                   19.105                    99.0404                   101.6514                  69.6348                   
20                        79.0569                   107.3359                  131.0954                  38.2884                   59.2115                   124.1008                  81.0555                   100.8067                  140.9113                  142.1724                  87.7268                   27.074                    157.0509                  104.1009                  93.771                    87.3155                   47.927                    75.1665                   146.6492                  99999.0                   43.9318                   111.3059                  116.4689                  88.955                    142.0035                  22.0907                   18.7883                   72.5603                   153.1698                  137.7861                  100.1798                  91.6079                   163.1104                  95.1893                   66.2193                   77.2334                   
21                        42.19                     65.7951                   92.6499                   58.0                      48.4149                   99.0404                   38.4708                   87.2009                   121.3342                  98.4937                   44.2041                   65.7951                   114.7388                  105.6835                  78.2368                   53.0848                   20.5183                   32.311                    103.7304                  43.9318                   99999.0                   95.1893                   76.2168                   62.2977                   105.9292                  31.7805                   54.231                    49.2443                   111.8258                  100.6231                  75.591                    49.6588                   120.9339                  76.6616                   33.2415                   34.1321                   
22                        125.2557                  79.8123                   72.5603                   81.3941                   52.3927                   26.0768                   82.662                    11.1803                   30.0167                   115.2128                  89.6939                   108.462                   109.4897                  42.5441                   17.72                     54.7083                   75.1798                   105.6456                  108.1157                  111.3059                  95.1893                   99999.0                   75.5381                   37.2022                   68.352                    90.0278                   102.0                     46.0435                   100.02                    70.342                    164.7574                  79.6053                   112.5877                  18.6011                   123.3288                  85.6037                   
23                        77.8781                   12.1655                   18.2483                   109.8772                  75.7166                   57.7754                   38.6394                   77.026                    83.6481                   40.05                     37.054                    130.4837                  42.638                    112.641                   70.4557                   33.8378                   69.0652                   60.208                    35.8469                   116.4689                  76.2168                   75.5381                   99999.0                   46.8402                   34.7851                   96.8349                   119.4738                  56.9386                   37.0135                   27.8927                   114.9478                  27.2947                   48.1041                   64.2806                   84.214                    43.566                    
24                        88.3912                   47.0106                   52.2015                   70.1783                   34.1321                   36.8782                   45.4863                   33.8378                   59.5399                   86.3134                   52.7731                   94.8472                   87.6584                   67.0075                   25.4951                   18.0278                   44.4072                   68.6222                   82.5409                   88.955                    62.2977                   37.2022                   46.8402                   99999.0                   57.2014                   66.9104                   85.44                     16.4924                   79.925                    55.1725                   128.082                   43.3244                   92.2822                   20.2485                   87.4185                   48.4149                   
25                        112.5389                  46.8402                   17.0                      127.3146                  91.2634                   43.1741                   71.1126                   74.7061                   63.2851                   59.6825                   71.1969                   151.3275                  44.4072                   110.5712                  71.8471                   54.7083                   94.255                    94.3663                   47.927                    142.0035                  105.9292                  68.352                    34.7851                   57.2014                   99999.0                   120.7021                  141.3223                  72.7186                   34.2345                   7.2111                    149.6964                  60.407                    46.0                      65.8027                   118.2286                  76.1052                   
26                        73.0616                   88.6172                   110.5351                  27.8927                   37.6563                   102.0441                  63.8905                   79.8123                   119.365                   125.6065                  71.6101                   35.2278                   138.4088                  87.3212                   72.3671                   66.2118                   27.8029                   63.8905                   128.7245                  22.0907                   31.7805                   90.0278                   96.8349                   66.9104                   120.7021                  99999.0                   23.6008                   50.4876                   133.8096                  116.7776                  101.9215                  73.5391                   144.3087                  73.437                    62.2013                   60.803                    
27                        93.5575                   111.7587                  132.3065                  22.4722                   52.3927                   118.0678                  87.4586                   91.022                    132.0038                  149.1643                  95.2103                   11.6619                   161.4435                  89.0505                   85.1469                   87.6641                   50.9117                   86.539                    152.0296                  18.7883                   54.231                    102.0                     119.4738                  85.44                     141.3223                  23.6008                   99999.0                   69.0797                   156.4864                  137.9275                  117.8346                  96.9381                   167.2603                  87.6926                   81.4985                   84.4038                   
28                        81.0247                   53.7587                   65.7647                   54.8179                   19.105                    52.1536                   42.9535                   38.8973                   72.45                     94.2444                   51.6236                   78.7147                   99.2975                   65.2534                   29.6985                   23.2594                   29.7321                   62.2656                   92.5905                   72.5603                   49.2443                   46.0435                   56.9386                   16.4924                   72.7186                   50.4876                   69.0797                   99999.0                   92.4554                   70.0                      119.8541                  45.0444                   104.4031                  27.4591                   77.7817                   44.2719                   
29                        105.1713                  46.0652                   28.2312                   146.4138                  111.5213                  76.2365                   73.4098                   104.6948                  97.5141                   31.9061                   69.2604                   167.4754                  10.198                    141.0886                  100.09                    70.0357                   106.0189                  90.802                    18.0278                   153.1698                  111.8258                  100.02                    37.0135                   79.925                    34.2345                   133.8096                  156.4864                  92.4554                   99999.0                   30.0666                   137.3208                  62.1691                   12.6491                   93.7763                   114.2716                  78.0                      
30                        105.7592                  40.025                    9.8489                    124.8079                  88.8651                   46.1736                   65.0                      75.7694                   68.0661                   53.2353                   64.6297                   148.1891                  40.0                      112.0089                  72.0694                   50.5668                   89.8888                   87.8237                   42.0595                   137.7861                  100.6231                  70.342                    27.8927                   55.1725                   7.2111                    116.7776                  137.9275                  70.0                      30.0666                   99999.0                   142.678                   54.0833                   42.4264                   65.8635                   111.7587                  70.0                      
31                        39.8246                   103.0776                  132.8533                  129.8075                  123.4909                  161.0124                  84.6286                   158.701                   186.4725                  109.0183                  80.6226                   127.2517                  134.3019                  180.9447                  149.4824                  112.4455                  95.1893                   59.8164                   121.3342                  100.1798                  75.591                    164.7574                  114.9478                  128.082                   149.6964                  101.9215                  117.8346                  119.8541                  137.3208                  142.678                   99999.0                   92.2822                   140.1749                  146.4138                  42.72                     80.604                    
32                        53.3104                   16.1555                   45.0111                   90.9175                   60.8769                   70.0071                   11.4018                   77.1622                   96.2081                   52.6972                   11.6619                   108.3744                  65.4599                   109.0367                  68.6804                   25.2982                   46.0977                   34.2053                   55.2268                   91.6079                   49.6588                   79.6053                   27.2947                   43.3244                   60.407                    73.5391                   96.9381                   45.0444                   62.1691                   54.0833                   92.2822                   99999.0                   71.5612                   63.5689                   57.8705                   16.2788                   
33                        110.4762                  55.8032                   40.8534                   157.9525                  123.4058                  88.5664                   82.4924                   117.3414                  109.165                   31.4006                   77.3886                   178.3928                  6.3246                    153.7335                  112.7209                  81.6884                   116.5161                  97.719                    19.105                    163.1104                  120.9339                  112.5877                  48.1041                   92.2822                   46.0                      144.3087                  167.2603                  104.4031                  12.6491                   42.4264                   140.1749                  71.5612                   99999.0                   106.4049                  120.5404                  86.8332                   
34                        107.0561                  66.2722                   65.5515                   68.6804                   36.0139                   31.0161                   65.3682                   13.6015                   46.0977                   104.3072                  72.9178                   95.3415                   102.4597                  48.3735                   6.3246                    38.2753                   56.7979                   87.6185                   99.0404                   95.1893                   76.6616                   18.6011                   64.2806                   20.2485                   65.8027                   73.437                    87.6926                   27.4591                   93.7763                   65.8635                   146.4138                  63.5689                   106.4049                  99999.0                   104.8046                  67.9559                   
35                        13.6015                   72.111                    102.3963                  89.8053                   80.7775                   122.1884                  47.8017                   116.6748                  146.7276                  92.477                    47.1699                   92.228                    114.2366                  138.2317                  107.4802                  73.3553                   52.4786                   24.0208                   101.6514                  66.2193                   33.2415                   123.3288                  84.214                    87.4185                   118.2286                  62.2013                   81.4985                   77.7817                   114.2716                  111.7587                  42.72                     57.8705                   120.5404                  104.8046                  99999.0                   43.0116                   
36                        40.8044                   32.28                     61.131                    81.3449                   56.0089                   80.4487                   5.0                       81.1234                   105.8915                  65.0692                   10.8167                   96.0208                   80.6226                   109.4806                  72.0694                   31.8904                   34.9285                   20.8087                   69.6348                   77.2334                   34.1321                   85.6037                   43.566                    48.4149                   76.1052                   60.803                    84.4038                   44.2719                   78.0                      70.0                      80.604                    16.2788                   86.8332                   67.9559                   43.0116                   99999.0                   
;
SCALAR TOTAL  /36/;
SCALAR NODES  /30/;
SCALAR W  /2/;
SCALAR Y  /72/;
SCALAR M  /1/;
BINARY VARIABLE X(I,J,K)  x variable ;
INTEGER VARIABLE U(K,O)    u variable ;
VARIABLE   Z         objective ;
EQUATIONS
CON1(K)   constraint 1
CON2(K)   constraint 2
CON3   constraint 3
CON4(O)   constraint 4
CON5(O,K)   constraint 5
CON6(O,K)   constraint 6
CON7(K)   constraint 7
CON10(O,P,K)   constraint 10
CON11(O,K)   constraint 11;
CON1(K).. SUM(O,X(K,O,K)) =E= 1;
CON2(K).. SUM(O,X(O,K,K)) =E= 1;
CON3..  SUM((K,L),X(K,L,K)) =E= 0;
CON4(O) .. SUM(K,X(K,O,K)) + SUM((P,K),X(P,O,K)) =e= W;
CON5(O,K) .. X(K,O,K) + SUM(P,X(P,O,K)) =L= 1;
CON6(O,K) .. X(K,O,K) + SUM(P,X(P,O,K)) - X(O,K,K) - SUM(P,X(O,P,K)) =e= 0;
CON7(K) .. Z =G= SUM(O,C(K,O)*X(K,O,K) + C(O,K)*X(O,K,K)) + SUM((P,O),C(P,O)*X(P,O,K));
CON10(O,P,K) .. U(K,O) - U(K,P) + (TOTAL-1)*X(O,P,K) + (TOTAL-3)*X(P,O,K) =L= (TOTAL-2);
CON11(O,K) .. X(O,O,K) =e= 0;
MODEL TRANSPORT /ALL/;
Option Reslim = 28800;
SOLVE TRANSPORT USING MIP MINIMIZING Z ;
